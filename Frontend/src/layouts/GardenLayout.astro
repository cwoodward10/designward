---
import ContentLayout from "./ContentLayout.astro";
import ContentImage from "@components/content-components/ContentImage.astro";

const { data } = Astro.props;
---

<ContentLayout pageTitle={data.title}>
    <hgroup class="intro" slot="intro">
        <h1>{data.title}</h1>
        {data.tagline && <h5 class="tagline">{data.tagline}</h5>}
        <p class="date">
            <span class="tag">last edited:</span> 
            <span class="style-h5">{data.lastEdited}</span>
        </p>
        <p class="state">
            <span class="tag">Writing state:</span> 
            <span class="style-h5">{data.state}</span>
        </p>
    </hgroup>
    <div class="wrapper" slot="content">
        {data.image && 
            <div class="hero">
                <ContentImage src={data.image.src} alt={data.image.alt ?? data.title} />
            </div>
        }
        <slot />
    </div>
    <a slot="back" class="arrow" href="/garden/">Back to the garden</a>
</ContentLayout>

<style>
    hgroup.intro {
        .tagline {
            margin-bottom: 0.25em;
        }
        .tag {
            font-size: 0.8em;
            font-weight: 300;
            text-transform: lowercase;
        }
    }
    .wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .hero {
        width: 100%;
        max-width: calc(100vw - (2 * var(--padding-edge, 1rem)));
    }
</style>